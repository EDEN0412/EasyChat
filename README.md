## アプリケーション名

EasyChat

## アプリケーション概要
EasyChatは、シンプルで使いやすいチャットアプリケーションです。複雑な機能を省き、必要最小限の機能に特化することで、誰でも直感的に使えるコミュニケーションツールを目指しています。

### 想定される利用シーン
- 小規模チームの日常的なコミュニケーション
- 家族や友人グループでの気軽な会話
- IT初心者向けの社内チャットツール
- 高齢者コミュニティでの交流

### 他のチャットアプリとの違い
- 必要最小限の機能に絞った直感的な操作性
- 登録からチャット開始までの手順が簡単
- 軽量で高速な動作
- シンプルで見やすいUI/UX

## URL

https://easychat-frub.onrender.com

## テスト用アカウント

・Basic認証ID:admin
・Basic認証パスワード:2222
・ユーザー名:test
・パスワード:sample

## 利用方法
1. アカウント作成
   - ユーザー名とパスワードで簡単に登録
   - メールアドレスは不要

2. チャンネルの利用
   - 既存のチャンネルに参加
   - 新しいチャンネルの作成
   - 自分のチャンネルの編集
   - 自分のチャンネルの削除
   - チャンネル一覧から簡単に選択

3. メッセージの送信
   - テキストメッセージの送信
   - 絵文字リアクションの追加（👍👎❤️）
   - @マークでメンション

4. メッセージの管理
   - 自分のメッセージの編集
   - 自分のメッセージの削除
   - 過去のメッセージの閲覧

5. ダークモードの切替
   - 画面右上の切替ボタンをクリック
   - システム設定に連動した自動切替にも対応
   - 長時間の利用でも目に優しい表示

## アプリケーションを作成した背景
近年、リモートワークやオンラインコミュニケーションの需要が高まっていますが、既存のチャットツールには以下のような課題があります：

1. 機能が多すぎて操作が複雑
2. 高齢者や IT に不慣れな方には使いづらい
3. 必要のない機能が多く、システムが重い
4. 初期設定や運用が複雑

これらの課題を解決するため、以下のようなユーザーに焦点を当てたアプリケーションを開発しました：

- IT初心者の方々
- シンプルな機能のみを求めるユーザー
- 小規模チームやコミュニティ
- 高齢者や技術に不慣れな方々

## 要件定義

### 機能要件

1. **ユーザー管理**
   - ユーザー登録（メールアドレス不要のシンプルな登録フロー）
   - ユーザーログイン（ユーザー名とパスワードのみ）
   - ユーザーログアウト
   - セッション維持によるログイン状態の記憶

2. **チャンネル管理**
   - チャンネル作成（誰でも作成可能）
   - チャンネル一覧表示（サイドバーに常時表示）
   - チャンネル名編集（作成者のみ権限あり）
   - チャンネル削除（作成者のみ権限あり）
   - モーダルウィンドウでの操作性向上

3. **メッセージング**
   - テキストメッセージの送信
   - メッセージのリアルタイム表示（WebSocket通信）
   - メッセージ編集（投稿者のみ編集可能）
   - メッセージ削除（投稿者のみ削除可能）
   - 固定表示入力フォーム（モバイル対応）
   - @メンションによるユーザー指定

4. **リアクション**
   - メッセージへの絵文字リアクション追加（👍👎❤️）
   - 自分のリアクションの削除
   - リアクションのリアルタイム更新（他ユーザーの操作も即時反映）

5. **モバイル対応UI**
   - レスポンシブデザイン（767px/1024pxブレークポイント）
   - ハンバーガーメニュー（モバイル表示時のナビゲーション）
   - サイドバー表示・非表示切替
   - モバイル向け最適化入力フォーム
   - タッチ操作の最適化

6. **テーマ設定**
   - ダークモード・ライトモード切替
   - システム設定との連動
   - ユーザー設定の記憶

### 非機能要件

1. **パフォーマンス**
   - メッセージの即時配信（1秒以内）
   - 低レイテンシーなユーザーエクスペリエンス
   - モバイル環境でも快適な動作速度

2. **セキュリティ**
   - パスワードのハッシュ化保存
   - セッション管理によるセキュアなログイン状態維持
   - XSS対策
   - SQLインジェクション対策

3. **ユーザビリティ**
   - 直感的なユーザーインターフェース
   - 3クリック以内での主要操作完了
   - 初心者でも説明なしで操作可能なデザイン
   - アクセシビリティ対応（コントラスト）

## 実装した機能についての画像やGIFおよびその説明

### 1. ユーザー認証機能
[![Image from Gyazo](https://i.gyazo.com/fe100ecab4d44cb879cad9c0a6eb1c5a.png)](https://gyazo.com/fe100ecab4d44cb879cad9c0a6eb1c5a)
[![Image from Gyazo](https://i.gyazo.com/5d9db1ac678dccbf109ae819759547c6.png)](https://gyazo.com/5d9db1ac678dccbf109ae819759547c6)
- シンプルなログインフォーム
- 直感的なユーザー登録プロセス
- **操作手順**：
  1. ユーザー名とパスワードのみで登録（メールアドレス不要）
  2. 登録後は自動的にログイン状態に
  3. 次回以降はセッションが維持され、ログイン状態が記憶される
- **エラー処理**：
  - 既存ユーザー名での登録時は明確なエラーメッセージを表示
  - パスワード入力ミスの場合は具体的なガイダンスを提供

### 2. チャンネル管理機能
[![Image from Gyazo](https://i.gyazo.com/69587cfceafc7ac16c354f2e5a1b7a5b.png)](https://gyazo.com/69587cfceafc7ac16c354f2e5a1b7a5b)
- チャンネルの作成・編集・削除
- モーダルウィンドウでの快適な操作
- **操作フロー**：
  1. サイドバーの「+」ボタンでチャンネル作成モーダルを表示
  2. チャンネル名を入力して作成
  3. 自分が作成したチャンネルにはチャンネル名横に編集アイコンと削除アイコンが表示され、それぞれクリックすることで編集または削除が可能
- **権限管理**：
  - チャンネル作成者のみが編集・削除可能
  - 一般ユーザーには編集・削除ボタンが表示されない設計

### 3. メッセージング機能
[![Image from Gyazo](https://i.gyazo.com/b16ba3fe229589012436b94bd1cca9c8.png)](https://gyazo.com/b16ba3fe229589012436b94bd1cca9c8)
- リアルタイムメッセージ送受信
- 絵文字リアクション機能
- メッセージの編集・削除
- **メンション機能の使用例**：
  [![Image from Gyazo](https://i.gyazo.com/23ada8d02b5796584b75ac7ad7193f70.gif)](https://gyazo.com/23ada8d02b5796584b75ac7ad7193f70)
  - 「@」に続けてユーザー名を入力するとメンション可能
  - メンションされたメッセージは強調表示される
- **リアクション操作**：
  [![Image from Gyazo](https://i.gyazo.com/644754725cd8df700f4f2bb47bf958ff.gif)](https://gyazo.com/644754725cd8df700f4f2bb47bf958ff)
  - メッセージにカーソルを合わせると絵文字ボタンが表示
  - クリックでリアクションを追加、再クリックで削除
  - 他ユーザーのリアクションもリアルタイムで反映

### 4. レスポンシブデザイン
[![Image from Gyazo](https://i.gyazo.com/ddfc8c3709528c12b5845f8e3dbdb0c2.png)](https://gyazo.com/ddfc8c3709528c12b5845f8e3dbdb0c2)
[![Image from Gyazo](https://i.gyazo.com/65beed8142bac301c3645c2d2fea3a46.png)](https://gyazo.com/65beed8142bac301c3645c2d2fea3a46)
- スマートフォン・タブレット対応
- ハンバーガーメニュー
- モバイルに最適化された入力フォーム
- **モバイル操作フロー**：

  [![Image from Gyazo](https://i.gyazo.com/6e5234ddcaa288655dccec0a308393d2.gif)](https://gyazo.com/6e5234ddcaa288655dccec0a308393d2)
  1. ハンバーガーメニューをタップしてサイドバーを表示
  2. チャンネル選択後は自動的にサイドバーが閉じる
  3. 画面下部に固定された入力フォームでいつでもメッセージ入力可能
- **タッチ操作の最適化**：
  - タップしやすいボタンサイズ
  - スワイプ操作によるサイドバー表示・非表示

### 5. ダークモード
[![Image from Gyazo](https://i.gyazo.com/cbbfc3592f28f86170a0f4e7f053561e.gif)](https://gyazo.com/cbbfc3592f28f86170a0f4e7f053561e)
- ユーザーの好みに応じて切り替え可能
- 目の疲れを軽減
- システム設定との連動
- **設定保存機能**：
  - ユーザーの設定はブラウザに保存され、次回訪問時も維持
  - システム設定（OS）に連動させるオプションも選択可能

### 6. エラー処理とフィードバック
[![Image from Gyazo](https://i.gyazo.com/cfda81309f6f87670425b4962ec5eda9.gif)](https://gyazo.com/cfda81309f6f87670425b4962ec5eda9)
- **ユーザーフレンドリーなエラーメッセージ**：
  - 技術的な詳細ではなく、次にとるべき行動を提示
  - 視覚的にわかりやすいデザイン
- **成功フィードバック**：
  - アクション完了時は控えめな通知で確認
  - 操作の成功を直感的に理解できるアニメーション

## 実装予定の機能
・画像機能
  - シンプルな画像共有

・メッセージ検索機能
  - キーワードによる簡単な検索

・チャンネル検索機能
  - チャンネル名での検索
  - チャンネル一覧がページを越える場合に役立つ機能

・ユーザープロフィール機能
  - アバター画像設定
  - ステータスメッセージ

・絵文字リアクションの種類拡充
  - よく使われる感情表現の追加（5種類程度）

## データベース設計
[![Image from Gyazo](https://i.gyazo.com/df640ad0fefbbe1a4308cfedf5d544a7.png)](https://gyazo.com/df640ad0fefbbe1a4308cfedf5d544a7)

## 画面遷移図	
[![Image from Gyazo](https://i.gyazo.com/c6d712cc50258d67f05c9404915d3017.png)](https://gyazo.com/c6d712cc50258d67f05c9404915d3017)

## 開発環境
- バックエンド
  - Flask（Webアプリケーションフレームワーク）
  - python-socketio（リアルタイムチャット用WebSocket通信）
  - SQLAlchemy（MySQLとの連携用ORMツール）
- フロントエンド
  - HTML/CSS
  - JavaScript（クライアントサイド）
  - Jinja2テンプレートエンジン
- データストア
  - MySQL 8.0
    - ユーザー情報、チャンネル、メッセージの管理
    - リアクションやメンション情報の保存
    - 効率的なデータ検索とリレーション管理
- 開発ツール
  - MySQL Sequel Ace（データベース管理ツール）
    - データベースの構造管理
    - クエリのテストと実行
    - データの可視化と編集

## ローカルでの動作方法

### 前提条件
- Python 3.8以上
- MySQL 8.0以上
- Git

### セットアップ手順
1. リポジトリのクローン
   ```bash
   git clone https://github.com/Eden0412/easychat.git
   cd easychat
   ```

2. データベースのセットアップ
   ```bash
   mysql
   ```
   MySQLプロンプトで以下を実行：
   ```sql
   CREATE DATABASE chatapp;
   CREATE USER 'chatapp_user'@'localhost' IDENTIFIED BY '0000';
   GRANT ALL PRIVILEGES ON chatapp.* TO 'chatapp_user'@'localhost';
   FLUSH PRIVILEGES;
   EXIT;
   ```

3. 環境設定
   - `.env.sample`をコピーして`.env`ファイルを作成
   ```bash
   cp .env.sample .env
   ```
   
   必要な環境変数：
   ```
   FLASK_APP=app.py
   FLASK_ENV=development
   SECRET_KEY=2222
   DATABASE_URL=mysql://chatapp_user:0000@localhost/chatapp

   # データベース設定
   MYSQL_HOST=localhost
   MYSQL_USER=chatapp_user
   MYSQL_PASSWORD=0000
   MYSQL_DATABASE=chatapp
   MYSQL_PORT=3306

   # アプリケーション設定
   APP_PORT=5000
   ```

4. 仮想環境の作成と有効化
   ```bash
   python -m venv venv
   source venv/bin/activate
   ```

5. 依存関係のインストール
   ```bash
   # 主要な依存パッケージをインストール
   pip install flask-sqlalchemy flask-migrate flask-socketio

   # すべての依存関係をインストール
   pip install -r requirements.txt
   ```

6. データベースのマイグレーション
   ```bash
   # 仮想環境を有効化してから実行
   source venv/bin/activate

   # 既存のマイグレーションを適用
   flask db upgrade
   ```

   注意：初回のみ、マイグレーションの初期化が必要な場合は以下を実行
   ```bash
   flask db init
   flask db migrate -m "Initial migration"
   flask db upgrade
   ```

7. アプリケーションの起動
   ```bash
   # 仮想環境を有効化してから実行
   source venv/bin/activate
   
   # アプリケーションの起動
   python app.py
   ```

   アプリケーションは http://localhost:3000 で起動します。

注意：
- アプリケーションの起動は `flask run` ではなく `python app.py` コマンドを使用してください
- アプリケーションはデフォルトで http://localhost:3000 で起動します（標準の5000ポートではありません）
- エラー「No module named '...'」が発生した場合は、上記の依存関係のインストール手順を再確認してください

## 工夫したポイント 

### 開発プロセスの効率化
- 要件定義から実装までの計画的な開発管理により、2週間での完成を実現

### 技術選定の最適化
- Flask採用で開発速度を大幅に向上、軽量で拡張性の高いアプリを実現
- WebSocketによるリアルタイム通信で低遅延を実現
- SQLAlchemyでデータ整合性を確保しながら開発効率を向上

### ユーザー中心設計の徹底
- ペルソナ設定に基づく機能選定で真に必要な機能のみを実装
- 使いやすさを重視した設計と反復的な改善
- アクセシビリティへの配慮でより多くのユーザーが利用可能に

### UI/UXの革新
- 視認性重視の配色設計で長時間利用でも目の疲れを軽減
- 3クリック以内で操作完了のシンプルなナビゲーションを実現
- 即時フィードバックの仕組みでユーザーの操作不安を解消

### モバイルファースト対応
- モバイルを優先した設計でスマホユーザーの操作満足度を向上
- タッチ操作最適化でストレスフリーなタップ体験を実現
- 画面サイズ別の最適表示であらゆるデバイスでの利用をサポート

### パフォーマンスとセキュリティの両立
- 効率的なデータベース設計により安定した応答性を確保
- 堅牢なセキュリティ対策でユーザーデータを保護
- 高速レスポンスの維持でストレスのない利用体験を提供

### 効率的なデプロイと運用
- Renderを活用した効率的なデプロイプロセスを構築
- 環境変数による設定で本番・開発環境の切替を容易に

## 改善点

### 機能面の拡張
- 画像添付機能の実装
  - シンプルさを維持しつつ、基本的な画像共有機能を追加
- メッセージの検索機能
  - 会話履歴が増えた場合の検索性向上
- チャンネル検索機能の追加
  - チャンネル数が増加した場合のナビゲーション改善
  - チャンネル名による簡易検索機能
- ユーザープロフィールのカスタマイズ機能
  - アバターやステータスメッセージによる個人表現
- 絵文字リアクションの種類拡充
  - よく使われる感情表現の追加（5種類程度）

## 制作時間
総開発期間：**約2週間**